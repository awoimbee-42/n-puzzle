!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e){var i,n,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var l,h=[],c=!1,u=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=h.length;e;){for(l=h,h=[];++u<e;)l&&l[u].run();u=-1,e=h.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new p(t,e)),1!==h.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=e.execTime=void 0;const n=i(6);e.execTime=class{constructor(){this.startT=[0,0]}startTime(){this.startT=n()}endTime(){const t=n(this.startT);return 1e9*t[0]+t[1]}},e.assert=function(t,e){if(!t)throw new Error(e)}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(i(4)),r=document.getElementById("boardcanvas");null!==r.getContext&&document.fonts.load("1em Roboto Mono").then(setTimeout(()=>{o.default(r)},50))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(i(5)),r=n(i(16)),s=i(17),a=i(19),l=[2,100],h=[0,65535];e.default=function(t){const e=t.getContext("2d"),i=new r.default,n=new s.HTMLActuator;if(!e)throw"Cannot create context object for 2D canvas.";if(null===i.complexityField)throw"Cannot read complexity field value.";const c=new o.default(i.size,e,i.speed,Number(i.complexityField.value),!1);n.updateStatus("r"),n.resetTimer(),n.resetAlgoStats(),i.on("move",t=>{c.moveInteract(t),n.updateScore(c.score),n.updateStatus(c.statusSolved)}),i.on("restart",()=>{c.restart(),n.resetScore(),n.resetAlgoStats(),n.resetTimer(),n.updateStatus("r")}),i.on("shuffle",()=>{var t,e;n.wrongSizeHide(),n.wrongComplHide(),null===i.sizeField||(e=Number(i.sizeField.value))>=l[0]&&e<=l[1]?null===i.complexityField||(t=Number(i.complexityField.value))>=h[0]&&t<=h[1]?null!==i.sizeField&&null!==i.complexityField&&null!==i.solvableCheckbox&&c.shuffle(Number(i.sizeField.value),Number(i.complexityField.value),Boolean(i.solvableCheckbox.checked))?(n.resetScore(),n.resetAlgoStats(),n.resetTimer(),c.score=0,n.updateStatus("r")):(n.wrongSizeHide(),n.wrongComplHide(),n.wrongComplGenerShow()):n.wrongComplRangeShow():n.wrongSizeRangeShow()}),i.on("solve",()=>{n.updateStatus("s"),n.resetScore(),setTimeout(()=>{c.solve(i.algo,i.heuristic,()=>{console.log("move of solver"),n.incrementScore()}),console.log("score from solver "+c.score),n.updateStatus(c.state.status),n.updateTime(c.time),n.updateAlgoStats(c.complexityTime,c.complexitySize,c.score)},50)}),i.on("help",()=>{c.drawing=!0,a.startTour(()=>{setTimeout(()=>c.drawing=!1,500)})}),i.on("speed",t=>{c.updateSpeed(t)})}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=i(1),o=i(7);e.default=class extends class{constructor(t,e,i){this.boardCoords=[],this.boardSize=t,this.ctx=e,this.canvasStyle={fillColor:"rgb(60, 77, 85)",resolution:500,resolutionInt:470,margins:0,minMargins:4,marginColor:"rgba(199, 199, 199)"},this.tileStyle={fillColor:"rgb(221, 215, 198)",margins:0,strokeWidth:1,strokeColor:"rgba(50, 0, 0, 1)",lineJoin:"round",innerReso:0},this.textStyle={font:"50px Roboto Mono",fontName:"Roboto Mono",fontInt:46,align:"center",baseline:"middle",fillColor:"rgb(31, 48, 117)"},this.frames=i,this.movesList=[],this.movesListDone=[],this.moves=[],this.drawing=!1,this.emptyIdx=0,this.prevEmptyIdx=0,this.board=new Uint16Array(1),this.tileReso=0}drawNewBoard(){this.updateFont(),this.initCanvas(),this.initTileCoords(),this.drawCanvas(),this.drawBoard()}initMove(t){return{num:this.board[this.prevEmptyIdx],xStart:this.boardCoords[this.emptyIdx][0],yStart:this.boardCoords[this.emptyIdx][1],xEnd:this.boardCoords[this.prevEmptyIdx][0],yEnd:this.boardCoords[this.prevEmptyIdx][1],callbacks:t}}drawMove(t){return new Promise(e=>{const i=(t.xEnd-t.xStart)/this.frames,n=(t.yEnd-t.yStart)/this.frames,o=()=>{Math.round(t.xStart)!=t.xEnd||Math.round(t.yStart)!=t.yEnd?(this.clearTile(t.xStart,t.yStart),t.xStart+=i,t.yStart+=n,this.drawTile(t.xStart,t.yStart,t.num),window.requestAnimationFrame(()=>o())):(t.callbacks(),e())};o()})}draw(){this.movesList.reduce((t,e)=>t.then(()=>this.drawMove(e)),Promise.resolve())}drawSingle(){this.drawing=!0,this.drawMove(this.initMove(()=>{})).then(()=>{this.drawing=!1})}addMove(t){return this.movesList.push(this.initMove(t)),this}initTileCoords(){let t,e;const i=this.boardSize*this.boardSize;for(let n=0;n<i;n++)t=this.tileReso*(n%this.boardSize)+this.canvasStyle.margins,e=this.tileReso*Math.floor(n/this.boardSize)+this.canvasStyle.margins,this.boardCoords[n]=[t,e]}updateFont(){this.textStyle.font=String(Math.trunc(4*this.textStyle.fontInt/this.boardSize)+"px "+this.textStyle.fontName)}initCanvas(){this.ctx.font=this.textStyle.font,this.ctx.textAlign=this.textStyle.align,this.ctx.textBaseline=this.textStyle.baseline,this.ctx.lineWidth=this.tileStyle.strokeWidth,this.ctx.lineJoin=this.tileStyle.lineJoin,this.ctx.strokeStyle=this.tileStyle.strokeColor,this.adjustCanvasMargin(),this.tileReso=this.canvasStyle.resolutionInt/this.boardSize,this.tileStyle.innerReso=this.tileReso-2*this.tileStyle.strokeWidth}adjustCanvasMargin(){let t;t=this.canvasStyle.resolution-2*this.canvasStyle.minMargins,Math.floor(t/this.boardSize)!=t/this.boardSize&&(t=Math.floor(t/this.boardSize)*this.boardSize),1&t&&(t=t>>1<<1),this.canvasStyle.margins=(this.canvasStyle.resolution-t)/2,n.assert(t+2*this.canvasStyle.margins===this.canvasStyle.resolution),this.canvasStyle.resolutionInt=t}drawCanvas(){this.ctx.fillStyle=this.canvasStyle.marginColor,this.ctx.fillRect(0,0,this.canvasStyle.resolution,this.canvasStyle.resolution),this.ctx.fillStyle=this.canvasStyle.fillColor,this.ctx.fillRect(this.canvasStyle.margins-this.tileStyle.strokeWidth,this.canvasStyle.margins-this.tileStyle.strokeWidth,this.canvasStyle.resolutionInt+2*this.tileStyle.strokeWidth,this.canvasStyle.resolutionInt+2*this.tileStyle.strokeWidth)}clearTile(t,e){this.ctx.fillStyle=this.canvasStyle.fillColor,this.ctx.fillRect(t,e,this.tileReso,this.tileReso)}drawTile(t,e,i){i&&(this.ctx.fillStyle=this.tileStyle.fillColor,this.ctx.fillRect(t+this.tileStyle.strokeWidth,e+this.tileStyle.strokeWidth,this.tileStyle.innerReso,this.tileStyle.innerReso),this.ctx.fillStyle=this.textStyle.fillColor,this.ctx.fillText(String(i),t+this.tileReso/2,e+this.tileReso/2))}drawBoard(){for(const t in this.boardCoords)this.drawTile(this.boardCoords[t][0],this.boardCoords[t][1],this.board[t])}}{constructor(t=4,e,i,n,r=!1){super(t,e,i),this.boardSize=t,this.score=0,this.time=-1,this.complexityTime=NaN,this.complexitySize=NaN,this.complexity=n?Number(n):this.boardSize-1,this.state=o.generate(this.boardSize,this.complexity,r),this.nCells=0,this.emptyIdx=0,this.prevEmptyIdx=0,this.board=new Uint16Array(1),this.boardSaved=new Uint16Array(1),this.updateBoard(),this.drawNewBoard(),this.solved=this.checkSolved()}updateBoard(){this.movesList=[],this.nCells=this.boardSize*this.boardSize,this.board=this.state.board,this.boardSaved=Uint16Array.from(this.state.board),this.emptyIdx=this.board.findIndex(t=>0===t),this.prevEmptyIdx=this.emptyIdx}checkMoveValid(t){return t>=0&&t<this.nCells&&(t===this.emptyIdx+1&&Boolean((this.emptyIdx+1)%this.boardSize)||t===this.emptyIdx-1&&Boolean(this.emptyIdx%this.boardSize)||t===this.emptyIdx+this.boardSize||t===this.emptyIdx-this.boardSize)}move(t,e=!1){if(!e||this.checkMoveValid(t))return this.score+=1,[this.board[t],this.board[this.emptyIdx]]=[this.board[this.emptyIdx],this.board[t]],this.prevEmptyIdx=this.emptyIdx,this.emptyIdx=t,this;console.log("Move is forbidden.")}moveInteract(t,e=!0){if(this.drawing)return;let i;0===t?i=this.move(this.emptyIdx+this.boardSize,e):2===t?i=this.move(this.emptyIdx-this.boardSize,e):1===t?i=this.move(this.emptyIdx-1,e):3===t&&(i=this.move(this.emptyIdx+1,e)),void 0!==i&&(this.solved=this.checkSolved(),this.drawSingle())}animateSolved(t,e){let i;t=t.slice(1);for(const n of t)i=n.board.indexOf(0),void 0!==this.move(i,!0)&&this.addMove(e);this.draw(),this.drawing=!1}solve(t,e,i){if(this.checkSolved())return void(this.state.status="d");this.drawing=!0,this.state.g=0;const[n,o,r]=this.state.solve(t,e,!1);if(this.complexityTime=o,this.complexitySize=r,"d"===this.state.status){const t=n.getHistory();this.animateSolved(t,i),this.score=t.length-1,this.time=n.time}}restart(){this.state.board=Uint16Array.from(this.boardSaved),this.updateBoard(),this.drawNewBoard(),this.score=0,this.time=-1,this.complexityTime=NaN,this.complexitySize=NaN}updateSpeed(t){this.frames=t}shuffle(t,e,i){return this.boardSize!==t&&(this.boardSize=t),this.complexity=e,this.state=o.generate(this.boardSize,this.complexity,!i),-1!==this.state.size&&(this.updateBoard(),this.drawNewBoard(),!0)}checkSolved(){if(0!==this.board[this.board.length-1])return!1;let t=1;for(const e of this.board){if(e!==t)return 0===e;t++}return!0}get statusSolved(){return this.solved?"d":"r"}}}).call(this,i(0))},function(t,e,i){(function(e,i){t.exports=e.hrtime||function(t){var e=.001*o.call(n),i=Math.floor(e),r=Math.floor(e%1*1e9);t&&(i-=t[0],(r-=t[1])<0&&(i--,r+=1e9));return[i,r]};var n=i.performance||{},o=n.now||n.mozNow||n.msNow||n.oNow||n.webkitNow||function(){return(new Date).getTime()}}).call(this,i(0),i(2))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;const n=i(8);e.generate=function(t,e,i){if(isNaN(t)||isNaN(e)||t<1||e<0)throw"Cannot generate puzzle of size: "+t+" and complexity: "+e;let o=n.State.fromSize(t);const r=new Set,s=[];for(;o.g<e;){r.add(o.hash());const t=Array.from(o.expand()).filter(t=>!r.has(t.hash()));if(0===t.length){const t=s.pop();if(!t)return console.log("Can not generate -- too hight complexity for the board size."),n.State.fromSize(-1);o=t;continue}const e=Math.floor(Math.random()*t.length);o=t.splice(e,1)[0],s.push(...t)}if(i){const t=o.board;0===t[0]||0===t[1]?[t[t.length-1],t[t.length-2]]=[t[t.length-2],t[t.length-1]]:[t[0],t[1]]=[t[1],t[0]]}return o}},function(t,e,i){"use strict";(function(t){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;const s=r(i(13)),a=r(i(14)),l=i(1);class h{constructor(t,e,i){this.status="r",this.board=e,this.parent=i,this.g=i?i.g+1:0,this.size=t,this.time=-1,this.status="r"}static fromSize(t){const e=t*t,i=new Uint16Array(e);for(let t=0;t<e;t+=1)i[t]=t+1;return i[e-1]=0,new h(t,i,null)}static fromString(t){const e=t.split("\n").filter(t=>0!==t.split("#")[0].trim().length),i=e.shift(),n=Number(i);if(isNaN(n))throw"Invalid puzzle size: "+i;if(n*n>=65535)throw"Puzzle is too big: "+n+" max size is: "+Math.sqrt(65535);const o=[];if(e.length!=n)throw"Expected a puzzle of "+n+" lines, got "+e.length;for(const t of e){const e=t.split(" ").filter(t=>0!=t.length);if(e.length!=n)throw"Bad number of tiles per line";for(const t of e){const e=Number(t);if(isNaN(e))throw"Invalid number: "+t;o.push(e)}}if(!new h(n,Uint16Array.from(o),null).isValid())throw"Invalid puzzle";return new h(n,Uint16Array.from(o),null)}get_h(t){return this.h||(this.h=t(this.board,this.size)),this.h}totalDist(t){return this.g+this.get_h(t)}isValid(){if(this.board.length!==this.size*this.size)return!1;const t=this.size*this.size,e=new Set(Array(t).keys());for(const t of this.board)if(!e.delete(t))return!1;return!0}isSolvable(){let t=0;for(let e=0;e<this.board.length-1;e+=1)for(let i=e+1;i<this.board.length;i+=1)this.board[e]&&this.board[i]&&this.board[e]>this.board[i]&&(t+=1);const e=0==(1&t),i=this.size%2==0,n=(this.size-Math.floor(this.board.indexOf(0)/this.size))%2==0;return i?n&&!e||!n&&e:e}solveInterractive(t,e){if(!this.isSolvable())throw"Not solvable !";const i=h.interractiveSolvers[t],n=h.heuristics[e];if(!i)throw"Bad solver: "+t;if(!n)throw"Bad heuristic: "+e;for(const t of i(this,n))console.log(t[1]),console.log(t[0])}solve(t,e,i=!0){if(!this.isSolvable())return this.status="u",[this,NaN,NaN];const n=h.solvers[t],o=h.heuristics[e];if(!n)throw"Bad solver: "+t;if(!o)throw"Bad heuristic: "+e;const r=new l.execTime;r.startTime();const[s,a,c]=n(this,o);return this.time=r.endTime(),i&&(s.getHistory().forEach(t=>console.log(t.toString())),console.log("# time complexity: "+a),console.log("# size complexity: "+c)),console.log("Took "+this.time+" ns."),this.status="d",s.time=this.time,[s,a,c]}*expand(){const t=(t,e)=>{const i=[...this.board];return i[t]=this.board[e],i[e]=this.board[t],new h(this.size,Uint16Array.from(i),this)},e=this.board.indexOf(0);e-this.size>=0&&(yield t(e,e-this.size)),e+this.size<this.board.length&&(yield t(e,e+this.size)),e%this.size!=this.size-1&&(yield t(e,e+1)),e%this.size!=0&&(yield t(e,e-1))}hash(){return t.from(this.board).toString("base64")}eq(t){if(t.board.length!=this.board.length)return!1;for(let e=0;e<this.board.length;e+=1)if(t.board[e]!=this.board[e])return!1;return!0}getHistory(){const t=Array(this.g);{let e=this.g,i=this;for(;i;)t[e]=i,i=i.parent,e-=1}return t}toString(){const t=this.board.reduce((t,e)=>t>e?t:e).toString().length;let e="";return e+="# Permutations done: "+this.g+"\n",e+="# Heuristic distance to finish: "+this.h+"\n",e+=this.size+"\n",this.board.forEach((i,n)=>{let o=i.toString();for(;o.length<t;)o+=" ";(n+1)%this.size==0?e+=o+"\n":e+=o+" "}),e}}e.State=h,h.solvers={"a*":a.aStar,"slow-a*":a.aStarSlow,"best-first":a.bestFirst},h.interractiveSolvers={"a*":a.aStarInterractive},h.heuristics={hamming:s.hamming,cartesian:s.cartesian,manhattan:s.manhattan,"linear-conflict":s.linear_conflict,permutations:s.permutation_nb}}).call(this,i(9).Buffer)},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i(10),o=i(11),r=i(12);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),o=(t=a(t,n)).write(e,i);o!==n&&(t=t.slice(0,o));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):d(t,e);if("Buffer"===e.type&&r(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return T(this,e,i);case"latin1":case"binary":return k(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function b(t,e,i,n,o){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=o?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(o)return-1;i=t.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,i,n,o);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):y(t,[e],i,n,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,i,n,o){var r,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,i/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var c=-1;for(r=i;r<a;r++)if(h(t,r)===h(e,-1===c?0:r-c)){if(-1===c&&(c=r),r-c+1===l)return c*s}else-1!==c&&(r-=r-c),c=-1}else for(i+l>a&&(i=a-l),r=i;r>=0;r--){for(var u=!0,d=0;d<l;d++)if(h(t,r+d)!==h(e,d)){u=!1;break}if(u)return r}return-1}function v(t,e,i,n){i=Number(i)||0;var o=t.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function w(t,e,i,n){return D(U(e,t.length-i),t,i,n)}function S(t,e,i,n){return D(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function _(t,e,i,n){return S(t,e,i,n)}function C(t,e,i,n){return D(q(e),t,i,n)}function x(t,e,i,n){return D(function(t,e){for(var i,n,o,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,o=i%256,r.push(o),r.push(n);return r}(e,t.length-i),t,i,n)}function E(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);for(var n=[],o=e;o<i;){var r,s,a,l,h=t[o],c=null,u=h>239?4:h>223?3:h>191?2:1;if(o+u<=i)switch(u){case 1:h<128&&(c=h);break;case 2:128==(192&(r=t[o+1]))&&(l=(31&h)<<6|63&r)>127&&(c=l);break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&(l=(15&h)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSlow=function(t){return u(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,o=0,r=Math.min(i,n);o<r;++o)if(t[o]!==e[o]){i=t[o],n=e[o];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),o=0;for(i=0;i<t.length;++i){var s=t[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||i>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=i)return 0;if(n>=o)return-1;if(e>=i)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0),a=Math.min(r,s),h=this.slice(n,o),c=t.slice(e,i),u=0;u<a;++u)if(h[u]!==c[u]){r=h[u],s=c[u];break}return r<s?-1:s<r?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-e;if((void 0===i||i>o)&&(i=o),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return v(this,t,e,i);case"utf8":case"utf-8":return w(this,t,e,i);case"ascii":return S(this,t,e,i);case"latin1":case"binary":return _(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(127&t[o]);return n}function k(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(t[o]);return n}function P(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=e;r<i;++r)o+=F(t[r]);return o}function N(t,e,i){for(var n=t.slice(e,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function j(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,i,n,o,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function L(t,e,i,n){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-i,2);o<r;++o)t[i+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function M(t,e,i,n){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-i,4);o<r;++o)t[i+o]=e>>>8*(n?o:3-o)&255}function z(t,e,i,n,o,r){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,n,r){return r||z(t,0,i,4),o.write(t,e,i,n,23,4),i+4}function B(t,e,i,n,r){return r||z(t,0,i,8),o.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;i=new l(o,void 0);for(var r=0;r<o;++r)i[r]=this[r+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||j(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||j(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},l.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||j(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||j(t,e,this.length);for(var n=e,o=1,r=this[t+--n];n>0&&(o*=256);)r+=this[t+--n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||I(this,t,e,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=t/o&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||I(this,t,e,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);I(this,t,e,i,o-1,-o)}var r=0,s=1,a=0;for(this[e]=255&t;++r<i&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);I(this,t,e,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var o,r=n-i;if(this===t&&i<e&&e<n)for(o=r-1;o>=0;--o)t[o+e]=this[o+i];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var s=l.isBuffer(t)?t:U(new l(t,n).toString()),a=s.length;for(r=0;r<i-e;++r)this[r+e]=s[r%a]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var i;e=e||1/0;for(var n=t.length,o=null,r=[],s=0;s<n;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!o){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function q(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(O,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,i,n){for(var o=0;o<n&&!(o+i>=e.length||o>=t.length);++o)e[o+i]=t[o];return o}}).call(this,i(2))},function(t,e,i){"use strict";e.byteLength=function(t){var e=h(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=h(t),s=n[0],a=n[1],l=new r(function(t,e,i){return 3*(e+i)/4-i}(0,s,a)),c=0,u=a>0?s-4:s;for(i=0;i<u;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===a&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,l[c++]=255&e);1===a&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,o=i%3,r=[],s=0,a=i-o;s<a;s+=16383)r.push(c(t,s,s+16383>a?a:s+16383));1===o?(e=t[i-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[i-2]<<8)+t[i-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return r.join("")};for(var n=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var o,r,s=[],a=e;a<i;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?o-1:0,d=i?-1:1,f=t[e+u];for(u+=d,r=f&(1<<-c)-1,f>>=-c,c+=a;c>0;r=256*r+t[e+u],u+=d,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=n;c>0;s=256*s+t[e+u],u+=d,c-=8);if(0===r)r=1-h;else{if(r===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),r-=h}return(f?-1:1)*s*Math.pow(2,r-n)},e.write=function(t,e,i,n,o,r){var s,a,l,h=8*r-o-1,c=(1<<h)-1,u=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:r-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=c?(a=0,s=c):s+u>=1?(a=(e*l-1)*Math.pow(2,o),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;t[i+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;t[i+f]=255&s,f+=p,s/=256,h-=8);t[i+f-p]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linear_conflict=e.manhattan=e.permutation_nb=e.cartesian=e.hamming=void 0,e.hamming=(t,e)=>{let i=0;return t.forEach((t,e)=>{t!==e+1&&0!==t&&(i+=1)}),i},e.cartesian=(t,e)=>{let i=0;for(let n=0;n<t.length;n+=1){if(0===t[n])continue;const o={x:n%e,y:Math.floor(n/e)},r={x:(t[n]-1)%e,y:Math.floor((t[n]-1)/e)};i+=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2))}return i},e.permutation_nb=(t,e)=>{let i=0;for(let e=0;e<t.length-1;e+=1)for(let n=e+1;n<t.length;n+=1)t[e]&&t[n]&&t[e]>t[n]&&(i+=1);return t[t.length-1]&&(i+=1),i},e.manhattan=(t,e)=>{let i=0;for(let n=0;n<t.length;n+=1){if(0===t[n])continue;const o={x:n%e,y:Math.floor(n/e)},r={x:(t[n]-1)%e,y:Math.floor((t[n]-1)/e)};i+=Math.abs(o.x-r.x)+Math.abs(o.y-r.y)}return i},e.linear_conflict=(t,i)=>{const n=(t,e)=>t<e?[t,e]:[e,t];let o=0;for(let e=0;e<i;e+=1)for(let r=0;r<i;r+=1){const s=e*i+r;if(0===t[s])continue;const a=[(t[s]-1)%i,Math.floor((t[s]-1)/i)];if([r,e]!==a)if(r===a[0]){const[s,l]=n(a[1],e);for(let e=s;e<l;e+=1){(t[e*i+r]-1)%i===r&&(o+=1)}}else if(e===a[1]){const[s,l]=n(a[0],r);for(let n=s;n<l;n+=1){const r=e*i+n;Math.floor((t[r]-1)/i)===e&&(o+=1)}}}return e.manhattan(t,i)+2*o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aStarInterractive=e.bestFirst=e.aStar=e.aStarSlow=void 0;const n=i(15);e.aStarSlow=(t,e)=>function(t,e){const i=new n.PriorityQueue,o=new Map;let r=0;i.insert(t,t.totalDist(e));for(;!i.is_empty();){r+=1;const t=i.min();if(0===t.get_h(e))return[t,r,i.length+o.size];o.set(t.hash(),t.g);for(const n of t.expand()){const t=i.get(n);if(t){n.g<t.g&&i.insert(n,n.totalDist(e));continue}const r=o.get(n.hash());void 0===r?i.insert(n,n.totalDist(e)):n.g<r&&(i.insert(n,n.totalDist(e)),o.delete(n.hash()))}}throw"impossible"}(t,e),e.aStar=(t,e)=>function(t,e){const i=new n.PriorityQueue,o=new Map;let r=0;i.insert(t,t.totalDist(e));for(;!i.is_empty();){r+=1;const t=i.min();if(0===t.get_h(e))return[t,r,i.size()+o.size];const n=t.hash(),s=o.get(n);if(!(void 0!==s&&t.g>=s)){o.set(n,t.g);for(const n of t.expand())i.insert(n,n.totalDist(e))}}throw"impossible"}(t,e),e.bestFirst=(t,e)=>function(t,e){const i=new n.PriorityQueue,o=new Map;let r=0;i.insert(t,t.get_h(e));for(;!i.is_empty();){r+=1;const t=i.min(),n=t.hash(),s=o.get(n);if(!(void 0!==s&&t.g>=s)){if(0===t.get_h(e))return[t,r,i.size()+o.size];o.set(n,t.g);for(const n of t.expand())i.insert(n,n.get_h(e))}}throw"impossible"}(t,e),e.aStarInterractive=(t,e)=>function*(t,e){const i=new n.PriorityQueue,o=new Map;i.insert(t,t.totalDist(e));for(;!i.is_empty();){const t=i.min(),n=t.hash(),r=o.get(n);if(!(void 0!==r&&t.g>=r)){if(0===t.get_h(e))return t;yield[t,"opened: "+i.size()+" closed: "+o.size],o.set(n,t.g);for(const n of t.expand())i.insert(n,n.totalDist(e))}}throw"impossible"}(t,e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PriorityQueue=void 0;e.PriorityQueue=class{constructor(){this.length=0,this.heap=[]}findWithPrio(t){let e=0,i=this.heap.length-1,n=0;for(;e<=i;)if(n=Math.floor((e+i)/2),this.heap[n][0]>t)e=n+1;else{if(!(this.heap[n][0]<t))return[!0,n];i=n-1}return[!1,e]}insert(t,e){this.length+=1;const[i,n]=this.findWithPrio(e);i?this.heap[n][1].push(t):this.heap.splice(n,0,[e,[t]])}min(){const t=this.heap[this.heap.length-1][1].pop();if(0===this.heap[this.heap.length-1][1].length&&this.heap.pop(),void 0===t)throw null;return this.length-=1,t}has(t){for(const e of this.heap)for(const i of e[1])if(t.eq(i))return!0;return!1}get(t){for(let e=this.heap.length-1;-1!=e;e-=1){const i=this.heap[e][1];for(let e=0;e<i.length;e+=1)if(t.eq(i[e]))return i[e]}}filter(t){let e=0;for(let i=this.heap.length-1;-1!=i;i-=1){const n=this.heap[i][1];for(let i=0;i<n.length;i+=1)t(n[i])&&(n.splice(i,1),e+=1)}return e}filter_one(t){for(let e=this.heap.length-1;-1!=e;e-=1){const i=this.heap[e][1];for(let e=0;e<i.length;e+=1)if(t(i[e]))return i.splice(e,1),!0}return!1}size(){return this.length}is_empty(){return 0===this.length}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n={38:0,39:1,40:2,37:3,75:0,76:1,74:2,72:3,87:0,68:1,83:2,65:3},o={Slow:15,Normal:6,Fast:3};e.default=class{constructor(){this.keyMap=n,this.sizeField=null,this.complexityField=null,this.solvableCheckbox=null,this.animSpeed=null,this.animSpeedMap=o,this.algoSelector=null,this.heuristicSelector=null,window.navigator.msPointerEnabled?(this.eventTouchstart="MSPointerDown",this.eventTouchmove="MSPointerMove",this.eventTouchend="MSPointerUp"):(this.eventTouchstart="touchstart",this.eventTouchmove="touchmove",this.eventTouchend="touchend"),this.events=new Set,this.listenKey(),this.listenClick(),this.readFields(),this.listenTouch()}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}readFields(){this.sizeField=document.querySelector(".size-field"),this.complexityField=document.querySelector(".complexity-field"),this.solvableCheckbox=document.querySelector(".checkbox-solvable"),this.animSpeed=document.querySelector(".select-speed"),this.algoSelector=document.querySelector(".select-algo"),this.heuristicSelector=document.querySelector(".select-heuristic")}listenClick(){this.bindButtonPress(".restart-button",this.restart),this.bindButtonPress(".shuffle-button",this.shuffle),this.bindButtonPress(".solve-button",this.solve),this.bindButtonPress(".help-button",this.showHelp),this.bindOnChange(".select-speed",this.updateSpeed)}listenKey(){const t=this;document.addEventListener("keydown",(function(e){const i=t.keyMap[e.keyCode];e.isComposing||229===e.keyCode||t.targetIsInput(e)||([37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault(),void 0!==i&&t.actuate("move",i))}),!1)}listenTouch(){let t,e;const i=document.getElementsByClassName("game-container")[0],n=this;i.addEventListener(this.eventTouchstart,(function(i){!window.navigator.msPointerEnabled&&i.touches.length>1||i.targetTouches.length>1||n.targetIsInput(i)||(window.navigator.msPointerEnabled?(t=i.pageX,e=i.pageY):(t=i.touches[0].clientX,e=i.touches[0].clientY),i.preventDefault())})),i.addEventListener(this.eventTouchmove,(function(t){t.preventDefault()})),i.addEventListener(this.eventTouchend,(function(i){if(!window.navigator.msPointerEnabled&&i.touches.length>0||i.targetTouches.length>0||n.targetIsInput(i))return;let o,r;window.navigator.msPointerEnabled?(o=i.pageX,r=i.pageY):(o=i.changedTouches[0].clientX,r=i.changedTouches[0].clientY);const s=o-t,a=Math.abs(s),l=r-e,h=Math.abs(l);Math.max(a,h)>10&&n.actuate("move",a>h?s>0?1:3:l>0?2:0)}))}actuate(t,e){const i=this.events[t];i&&i.forEach(t=>{t(e)})}restart(t){t.preventDefault(),this.actuate("restart",0)}shuffle(t){t.preventDefault(),this.actuate("shuffle",0)}solve(t){t.preventDefault(),this.actuate("solve",0)}updateSpeed(t){null!==this.animSpeed&&this.animSpeedMap&&this.actuate("speed",this.animSpeedMap[String(this.animSpeed.value)])}showHelp(t){t.preventDefault(),this.actuate("help",0)}bindButtonPress(t,e){const i=document.querySelector(t);i&&(i.addEventListener("click",e.bind(this)),i.addEventListener(this.eventTouchend,e.bind(this)))}bindOnChange(t,e){const i=document.querySelector(t);i&&(i.addEventListener("change",e.bind(this)),i.addEventListener(this.eventTouchend,e.bind(this)))}targetIsInput(t){return"input"===t.target.tagName.toLowerCase()}get speed(){return this.animSpeedMap&&null!==this.animSpeed?Number(this.animSpeedMap[String(this.animSpeed.value)]):-1}get size(){return null!==this.sizeField?Number(this.sizeField.value):0}get algo(){return null!==this.algoSelector?String(this.algoSelector.value):""}get heuristic(){return null!==this.heuristicSelector?String(this.heuristicSelector.value):""}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLActuator=void 0;const n=i(18);e.HTMLActuator=class{constructor(){this.scoreContainer=document.querySelector(".score-container"),this.timeContainer=document.querySelector(".time-container"),this.statusContainer=document.querySelector(".status-container"),this.complSizeContainer=document.querySelector(".compl-size-container"),this.complTimeContainer=document.querySelector(".compl-time-container"),this.movesContainer=document.querySelector(".moves-container"),this.sizeField=document.querySelector(".size-field"),this.complField=document.querySelector(".complexity-field"),this.score=0,this.time="NA"}updateScore(t){this.score=t,null!==this.scoreContainer&&(this.scoreContainer.textContent=String(this.score))}incrementScore(){this.score++,null!==this.scoreContainer&&(this.scoreContainer.textContent=String(this.score))}formatTime(t){function e(t,e){return t.toFixed(e)}return t<1e3?t+" ns":t>=1e3&&t<1e6?e(t/1e3,2)+" us":t>=1e6&&t<1e9?e(t/1e6,2)+" ms":t>=1e9?e(t/1e9,2)+" s":""}updateTime(t){t>0?null!==this.timeContainer&&(this.timeContainer.textContent=this.formatTime(t)):null!==this.timeContainer&&(this.timeContainer.textContent="NA")}resetScore(){this.score=0,null!==this.scoreContainer&&(this.scoreContainer.textContent=String(this.score))}resetTimer(){null!==this.timeContainer&&(this.timeContainer.textContent="(Time)")}updateStatus(t){"r"===t&&null!==this.statusContainer?(this.statusContainer.textContent="> Ready <",this.statusContainer.style.color="#0239ec"):"s"===t?null!==this.statusContainer&&(this.statusContainer.textContent="Solving...",this.statusContainer.style.color="#ffa600",this.statusContainer.style.visibility="hidden",this.statusContainer.style.visibility="visible"):"d"===t?(null!==this.statusContainer&&(this.statusContainer.textContent="> Solved <"),null!==this.statusContainer&&(this.statusContainer.style.color="#08e900")):"u"===t&&(null!==this.statusContainer&&(this.statusContainer.textContent="Unsolvable"),null!==this.statusContainer&&(this.statusContainer.style.color="#f53a0b"))}updateAlgoStats(t,e,i){null!==this.complSizeContainer&&(this.complSizeContainer.textContent=e.toString()+" states"),null!==this.complTimeContainer&&(this.complTimeContainer.textContent=t.toString()+" iter-s"),null!==this.movesContainer&&(this.movesContainer.textContent=i.toString()+" moves")}resetAlgoStats(){null!==this.complSizeContainer&&(this.complSizeContainer.textContent="(Nodes)"),null!==this.complTimeContainer&&(this.complTimeContainer.textContent="(Iterations)"),null!==this.movesContainer&&(this.movesContainer.textContent="(Moves)")}initPopover(t,e){return new n(t,{triger:"click",placement:"top",animation:"slideNfade",delay:100,title:'<span style= "color: #cc1010; font-weight: bold;">ERRONEOUS VALUE</span>',content:e,dismissible:!1})}wrongSizeRangeShow(){null!==this.sizeField&&(this.sizeField.style["border-color"]="#cc1010",this.sizeField.style["border-width"]="2px",this.sizeFieldPopover=this.initPopover(this.sizeField,"Board size must be in the range [2; 100]"),this.sizeFieldPopover.show())}wrongComplRangeShow(){null!==this.complField&&(this.complField.style["border-color"]="#cc1010",this.complField.style["border-width"]="2px",this.complFieldPopover=this.initPopover(this.complField,"Complexity must be in the range [0; 65536]"),this.complFieldPopover.show())}wrongSizeHide(){this.sizeFieldPopover&&null!==this.sizeField&&(this.sizeField.style["border-color"]="",this.sizeField.style["border-width"]="",this.sizeFieldPopover.dispose())}wrongComplGenerShow(){null!==this.complField&&(this.complField.style["border-color"]="#cc1010",this.complField.style["border-width"]="2px",this.initPopover(this.complField,"Can not generate - complexity is too hight for the board size. Impossible to create all unique states."),this.complFieldPopover.show())}wrongComplHide(){this.complFieldPopover&&this.complField&&(this.complField.style["border-color"]="",this.complField.style["border-width"]="",this.complFieldPopover.dispose())}}},function(t,e,i){
/*!
  * Native JavaScript for Bootstrap Popover v3.1.0 (https://thednp.github.io/bootstrap.native/)
  * Copyright 2015-2020 © dnp_theme
  * Licensed under MIT (https://github.com/thednp/bootstrap.native/blob/master/LICENSE)
  */
t.exports=function(){"use strict";var t="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],e="mousedown",i=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,e)}),e)}catch(t){}return t}()&&{passive:!0},n="webkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend",o="webkitTransition"in document.body.style||"transition"in document.body.style,r="webkitTransition"in document.body.style?"webkitTransitionDuration":"transitionDuration";function s(t,e){var i=0;!function(t){var e=o?parseFloat(getComputedStyle(t)[r]):0;return e="number"!=typeof e||isNaN(e)?0:1e3*e}(t)?setTimeout((function(){!i&&e(),i=1}),17):t.addEventListener(n,(function o(r){!i&&e(r),i=1,t.removeEventListener(n,o)}))}function a(t,e){var i=e&&e instanceof Element?e:document;return t instanceof Element?t:i.querySelector(t)}function l(t,e,i){var n=new CustomEvent(t+".bs."+e,{cancelable:!0});return n.relatedTarget=i,n}function h(t){this&&this.dispatchEvent(t)}function c(t,e,i,n){var o,r,s,a,l,h,c=e.offsetWidth,u=e.offsetHeight,d=document.documentElement.clientWidth||document.body.clientWidth,f=document.documentElement.clientHeight||document.body.clientHeight,p=t.getBoundingClientRect(),m=n===document.body?{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}:{x:n.offsetLeft+n.scrollLeft,y:n.offsetTop+n.scrollTop},g=p.right-p.left,b=p.bottom-p.top,y=e.classList.contains("popover"),v=e.getElementsByClassName("arrow")[0],w=p.top+b/2-u/2<0,S=p.left+g/2-c/2<0,_=p.left+c/2+g/2>=d,C=p.top+u/2+b/2>=f,x=p.top-u<0,E=p.left-c<0,A=p.top+u+b>=f,T=p.left+c+g>=d;i="right"===(i="left"===(i="bottom"===(i="top"===(i=("left"===i||"right"===i)&&E&&T?"top":i)&&x?"bottom":i)&&A?"top":i)&&E?"right":i)&&T?"left":i,-1===e.className.indexOf(i)&&(e.className=e.className.replace(/\b(top|bottom|left|right)+/,i)),l=v.offsetWidth,h=v.offsetHeight,"left"===i||"right"===i?(r="left"===i?p.left+m.x-c-(y?l:0):p.left+m.x+g,w?(o=p.top+m.y,s=b/2-l):C?(o=p.top+m.y-u+b,s=u-b/2-l):(o=p.top+m.y-u/2+b/2,s=u/2-(y?.9*h:h/2))):"top"!==i&&"bottom"!==i||(o="top"===i?p.top+m.y-u-(y?h:0):p.top+m.y+b,S?(r=0,a=p.left+g/2-l):_?(r=d-1.01*c,a=c-(d-p.left)+g/2-l/2):(r=p.left+m.x-c/2+g/2,a=c/2-(y?l:l/2))),e.style.top=o+"px",e.style.left=r+"px",s&&(v.style.top=s+"px"),a&&(v.style.left=a+"px")}return function(n,o){o=o||{};var r,u,d,f,p,m,g,b,y,v,w,S,_,C,x,E,A,T,k,P=this,N=null,j=0,I=/(iPhone|iPod|iPad)/.test(navigator.userAgent),L={};function M(t){null!==N&&t.target===a(".close",N)&&P.hide()}function z(){return{0:o.title||n.getAttribute("data-title")||null,1:o.content||n.getAttribute("data-content")||null}}function R(){null===N&&n.focus()}function B(i){i=i?"addEventListener":"removeEventListener","hover"===L.trigger?(n[i](e,P.show),n[i](t[0],P.show),L.dismissible||n[i](t[1],P.hide)):"click"==L.trigger?n[i](L.trigger,P.toggle):"focus"==L.trigger&&(I&&n[i]("click",R,!1),n[i](L.trigger,P.toggle))}function O(t){N&&N.contains(t.target)||t.target===n||n.contains(t.target)||P.hide()}function F(t){t=t?"addEventListener":"removeEventListener",L.dismissible?document[t]("click",M,!1):("focus"==L.trigger&&n[t]("blur",P.hide),"hover"==L.trigger&&document[t]("touchstart",O,i)),window[t]("resize",P.hide,i)}function U(){F(1),h.call(n,w)}function q(){F(),L.container.removeChild(N),j=null,N=null,h.call(n,_)}P.toggle=function(){null===N?P.show():P.hide()},P.show=function(){clearTimeout(j),j=setTimeout((function(){if(null===N){if(h.call(n,v),v.defaultPrevented)return;!function(){r=z()[0]||null,u=(u=z()[1])?u.trim():null,N=document.createElement("div");var t=document.createElement("div");if(t.classList.add("arrow"),N.appendChild(t),null!==u&&null===L.template){if(N.setAttribute("role","tooltip"),null!==r){var e=document.createElement("h3");e.classList.add("popover-header"),e.innerHTML=L.dismissible?r+y:r,N.appendChild(e)}var i=document.createElement("div");i.classList.add("popover-body"),i.innerHTML=L.dismissible&&null===r?u+y:u,N.appendChild(i)}else{var n=document.createElement("div");n.innerHTML=L.template.trim(),N.className=n.firstChild.className,N.innerHTML=n.firstChild.innerHTML;var o=a(".popover-header",N),s=a(".popover-body",N);r&&o&&(o.innerHTML=r.trim()),u&&s&&(s.innerHTML=u.trim())}L.container.appendChild(N),N.style.display="block",!N.classList.contains("popover")&&N.classList.add("popover"),!N.classList.contains(L.animation)&&N.classList.add(L.animation),!N.classList.contains(k)&&N.classList.add(k)}(),c(n,N,L.placement,L.container),!N.classList.contains("show")&&N.classList.add("show"),L.animation?s(N,U):U()}}),20)},P.hide=function(){clearTimeout(j),j=setTimeout((function(){if(N&&null!==N&&N.classList.contains("show")){if(h.call(n,S),S.defaultPrevented)return;N.classList.remove("show"),L.animation?s(N,q):q()}}),L.delay)},P.dispose=function(){P.hide(),B(),delete n.Popover},(n=a(n)).Popover&&n.Popover.dispose(),d=n.getAttribute("data-trigger"),f=n.getAttribute("data-animation"),p=n.getAttribute("data-placement"),m=n.getAttribute("data-dismissible"),g=n.getAttribute("data-delay"),b=n.getAttribute("data-container"),y='<button type="button" class="close">×</button>',v=l("show","popover"),w=l("shown","popover"),S=l("hide","popover"),_=l("hidden","popover"),C=a(o.container),x=a(b),E=n.closest(".modal"),A=n.closest(".fixed-top"),T=n.closest(".fixed-bottom"),L.template=o.template?o.template:null,L.trigger=o.trigger?o.trigger:d||"hover",L.animation=o.animation&&"fade"!==o.animation?o.animation:f||"fade",L.placement=o.placement?o.placement:p||"top",L.delay=parseInt(o.delay||g)||200,L.dismissible=!(!o.dismissible&&"true"!==m),L.container=C||x||A||T||E||document.body,k="bs-popover-"+L.placement;var D=z();r=D[0],((u=D[1])||L.template)&&(n.Popover||B(1),n.Popover=P)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startTour=void 0;const n=i(20);e.startTour=function(t){const e=n();e.setOptions({steps:[{element:".help-button",intro:"Navigate through this tour using arrows <b>[&#8592;, &#8594;]</b>. Exit at any time with <b>Esc</b>.<br>",position:"bottom"},{element:".main-container",intro:'<b>[N]ext-puzzle</b> is a game based on the classical <a href="https://en.wikipedia.org/wiki/15_puzzle" target="_blank">15-puzzle</a>, but with several exceptions:<br>  - Board size can be modified in the <code>SIZE</code> field (press \'New game\' to update the board).<br> - Game can be solved by a human a user or by a solving algorithm.<br><br>Current version is Alpha, it lacks some features like scoreboard and others.<br>If bugs are encountered please be indulgent.<br>Some important known issues: For relatively high shuffle complexity and board size (e.g. 6 and 200 respectively) A* search time can be very long and would cause the browser page to freeze.<br>If it happens reopen the browser tab.<br>Enjoy !<br>',position:"bottom"},{element:".game-container",intro:"Play using key groups:<br> - <b>arrows [&#8592;, &#8593;, &#8594;, &#8595;]</b>.<br> - <b>vim-style [H, J, K, L]</b>.<br> - <b>gamer-style [W, A, S, D]</b>.<br>For touch-screen swipe in the desired direction on the board.",position:"right"},{element:".score-container",intro:"Moves counter.",position:"right"},{element:".status-container",intro:"Status. One of:<br> - READY<br> - SOLVING...<br> - SOLVED<br> - UNSOLVABLE<br>",position:"right"},{element:".time-container",intro:"Solving algorithm search time.",position:"right"},{element:".compl-size-container",intro:"Memory complexity (solving algorithm) - maximum number of graph nodes simultaneously present in memory.",position:"right"},{element:".compl-time-container",intro:"Time complexity (solving algorithm) - total number of search iterations through the priority queue.",position:"right"},{element:".moves-container",intro:"Number of moves from the solving algorithm.",position:"right"},{element:".size-field-container",intro:"Define board NxN size, where N is an integer [2..100].",position:"right"},{element:".complexity-field-container",intro:"Shuffle complexity - distance (number of moves) from solved to shuffled state, where all intermediate states are unique. It does not represent the minimal distance, but only an indicator of shuffling complexity.",position:"right"},{element:".solvable-checkbox-container",intro:'Define if the new game is solvable.<br>N.B. Half of all possible combinations are unsolvable. <a href="https://www.cs.bham.ac.uk/~mdr/teaching/modules04/java2/TilesSolvability.html" target="_blank">Solvability check algorithm.</a>',position:"right"},{element:".select-speed",intro:"Animation speed:<br> - Slow -  <br> - Normal -  <br> - Fast -  <br>",position:"right"},{element:".select-algo",intro:'Solving algorithm:<br> - \'A*\' (A-star) is the popular <a href="https://en.wikipedia.org/wiki/A*_search_algorithm" target="_blank">path search algorithm.</a> A* can be viewed as the classical <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" target="_blank">Dijkstra\'s algorithm</a> with an added heuristic.<br> - \'A* opt.\' is an optimized version of A*.<br> - \'Best-first\' is the <a href="https://en.wikipedia.org/wiki/Greedy_algorithm" target="_blank">greedy version</a> of A* opt.',position:"right"},{element:".select-heuristic",intro:'Heuristic - metric to compute distance from current to solved state.<br>Available heuristics:<br> - <a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank">Hamming distance</a>.<br> - <a href="https://en.wikipedia.org/wiki/Taxicab_geometry" target="_blank">Manhattan distance</a>.<br> - Linear conflict described in the <a href="https://cse.sc.edu/~mgv/csce580sp15/gradPres/HanssonMayerYung1992.pdf" target="_blank">original article</a>.<br> - <a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank">Euclidean distance</a>.<br> - Permutation nb. - simple heuristic counts number misplaced (not in increasing order) tiles.<br>Only Hamming, Manhattan, and Euclidean distance are admissible heuristics.',position:"right"},{element:".buttons-container",intro:"Control buttons:<br> - 'New game' - shuffle and draw a new board using provided <code>SIZE</code> and <code>SHUFFLE COMP.</code>.</br> - 'Replay' - go back to previous 'New game' and reset moves counter.</br> - 'Solve' - solve the game using specified algorithm and heuristic.",position:"right"}],showBullets:!0,showButtons:!0,exitOnOverlayClick:!1,keyboardNavigation:!0}),e.onexit(t),e.start()}},function(t,e,i){var n;n=function(){function t(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button"}}function e(t,e){var r=t.querySelectorAll("*[data-intro]"),s=[];if(this._options.steps)_(this._options.steps,function(t){var e=o(t);if(e.step=s.length+1,"string"==typeof e.element&&(e.element=document.querySelector(e.element)),void 0===e.element||null===e.element){var i=document.querySelector(".introjsFloatingElement");null===i&&((i=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(i)),e.element=i,e.position="floating"}e.scrollTo=e.scrollTo||this._options.scrollTo,void 0===e.disableInteraction&&(e.disableInteraction=this._options.disableInteraction),null!==e.element&&s.push(e)}.bind(this));else{var l;if(r.length<1)return!1;_(r,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&"none"!==t.style.display){var i=parseInt(t.getAttribute("data-step"),10);l=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,i>0&&(s[i-1]={element:t,intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:l})}}.bind(this));var h=0;_(r,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&null===t.getAttribute("data-step")){for(;void 0!==s[h];)h++;l=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,s[h]={element:t,intro:t.getAttribute("data-intro"),step:h+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:l}}}.bind(this))}for(var c=[],u=0;u<s.length;u++)s[u]&&c.push(s[u]);return(s=c).sort((function(t,e){return t.step-e.step})),this._introItems=s,j.call(this,t)&&(a.call(this),this._options.keyboardNavigation&&E.on(window,"keydown",n,this,!0),E.on(window,"resize",i,this,!0)),!1}function i(){this.refresh.call(this)}function n(t){var e=null===t.code?t.which:t.code;if(null===e&&(e=null===t.charCode?t.keyCode:t.charCode),"Escape"!==e&&27!==e||!0!==this._options.exitOnEsc){if("ArrowLeft"===e||37===e)l.call(this);else if("ArrowRight"===e||39===e)a.call(this);else if("Enter"===e||13===e){var i=t.target||t.srcElement;i&&i.className.match("introjs-prevbutton")?l.call(this):i&&i.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),c.call(this,this._targetElement)):i&&i.getAttribute("data-stepnumber")?i.click():a.call(this),t.preventDefault?t.preventDefault():t.returnValue=!1}}else c.call(this,this._targetElement)}function o(t){if(null===t||"object"!=typeof t||void 0!==t.nodeType)return t;var e={};for(var i in t)void 0!==window.jQuery&&t[i]instanceof window.jQuery?e[i]=t[i]:e[i]=o(t[i]);return e}function r(t){this._currentStep=t-2,void 0!==this._introItems&&a.call(this)}function s(t){this._currentStepNumber=t,void 0!==this._introItems&&a.call(this)}function a(){this._direction="forward",void 0!==this._currentStepNumber&&_(this._introItems,function(t,e){t.step===this._currentStepNumber&&(this._currentStep=e-1,this._currentStepNumber=void 0)}.bind(this)),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],e=!0;return void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void c.call(this,this._targetElement)):void v.call(this,t)}function l(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;if(void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e)return++this._currentStep,!1;v.call(this,t)}function h(){if(g.call(this,document.querySelector(".introjs-helperLayer")),g.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),g.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),i=document.querySelector(".introjs-tooltip");u.call(this,this._introItems[this._currentStep].element,i,e,t)}return M.call(this),this}function c(t,e){var o=!0;if(void 0!==this._introBeforeExitCallback&&(o=this._introBeforeExitCallback.call(this)),e||!1!==o){var r=t.querySelectorAll(".introjs-overlay");r&&r.length&&_(r,function(t){t.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(t),500)}.bind(this));var s=t.querySelector(".introjs-helperLayer");s&&s.parentNode.removeChild(s);var a=t.querySelector(".introjs-tooltipReferenceLayer");a&&a.parentNode.removeChild(a);var l=t.querySelector(".introjs-disableInteraction");l&&l.parentNode.removeChild(l);var h=document.querySelector(".introjsFloatingElement");h&&h.parentNode.removeChild(h),S(),_(document.querySelectorAll(".introjs-fixParent"),(function(t){T(t,/introjs-fixParent/g)})),E.off(window,"keydown",n,this,!0),E.off(window,"resize",i,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function u(t,e,i,n,o){var r,s,a,l,h,c="";if(o=o||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,i.style.display="inherit",null!=n&&(n.style.top=null,n.style.left=null),this._introItems[this._currentStep])switch(c="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+c).replace(/^\s+|\s+$/g,""),e.setAttribute("role","dialog"),"floating"!==(h=this._introItems[this._currentStep].position)&&(h=p.call(this,t,e,h)),a=W(t),s=W(e),l=N(),A(e,"introjs-"+h),h){case"top-right-aligned":i.className="introjs-arrow bottom-right";var u=0;f(a,u,s,e),e.style.bottom=a.height+20+"px";break;case"top-middle-aligned":i.className="introjs-arrow bottom-middle";var m=a.width/2-s.width/2;o&&(m+=5),f(a,m,s,e)&&(e.style.right=null,d(a,m,s,l,e)),e.style.bottom=a.height+20+"px";break;case"top-left-aligned":case"top":i.className="introjs-arrow bottom",d(a,o?0:15,s,l,e),e.style.bottom=a.height+20+"px";break;case"right":e.style.left=a.width+20+"px",a.top+s.height>l.height?(i.className="introjs-arrow left-bottom",e.style.top="-"+(s.height-a.height-20)+"px"):i.className="introjs-arrow left";break;case"left":o||!0!==this._options.showStepNumbers||(e.style.top="15px"),a.top+s.height>l.height?(e.style.top="-"+(s.height-a.height-20)+"px",i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",e.style.right=a.width+20+"px";break;case"floating":i.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px",null!=n&&(n.style.left="-"+(s.width/2+18)+"px",n.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",f(a,u=0,s,e),e.style.top=a.height+20+"px";break;case"bottom-middle-aligned":i.className="introjs-arrow top-middle",m=a.width/2-s.width/2,o&&(m+=5),f(a,m,s,e)&&(e.style.right=null,d(a,m,s,l,e)),e.style.top=a.height+20+"px";break;default:i.className="introjs-arrow top",d(a,0,s,l,e),e.style.top=a.height+20+"px"}}function d(t,e,i,n,o){return t.left+e+i.width>n.width?(o.style.left=n.width-i.width-t.left+"px",!1):(o.style.left=e+"px",!0)}function f(t,e,i,n){return t.left+t.width-e-i.width<0?(n.style.left=-t.left+"px",!1):(n.style.right=e+"px",!0)}function p(t,e,i){var n=this._options.positionPrecedence.slice(),o=N(),r=W(e).height+10,s=W(e).width+20,a=t.getBoundingClientRect(),l="floating";a.bottom+r+r>o.height&&m(n,"bottom"),a.top-r<0&&m(n,"top"),a.right+s>o.width&&m(n,"right"),a.left-s<0&&m(n,"left");var h,c,u=-1!==(c=(h=i||"").indexOf("-"))?h.substr(c):"";return i&&(i=i.split("-")[0]),n.length&&(l="auto"!==i&&n.indexOf(i)>-1?i:n[0]),-1!==["top","bottom"].indexOf(l)&&(l+=function(t,e,i,n){var o=e/2,r=Math.min(i.width,window.screen.width),s=["-left-aligned","-middle-aligned","-right-aligned"];return r-t<e&&m(s,"-left-aligned"),(t<o||r-t<o)&&m(s,"-middle-aligned"),t<e&&m(s,"-right-aligned"),s.length?-1!==s.indexOf(n)?n:s[0]:"-middle-aligned"}(a.left,s,o,u)),l}function m(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function g(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],i=W(e.element),n=this._options.helperElementPadding;P(e.element)?A(t,"introjs-fixedTooltip"):T(t,"introjs-fixedTooltip"),"floating"===e.position&&(n=0),t.style.cssText="width: "+(i.width+n)+"px; height:"+(i.height+n)+"px; top:"+(i.top-n/2)+"px;left: "+(i.left-n/2)+"px;"}}function b(){var t=document.querySelector(".introjs-disableInteraction");null===t&&((t=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(t)),g.call(this,t)}function y(t){t.setAttribute("role","button"),t.tabIndex=0}function v(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e,i,n,o,r=this,s=document.querySelector(".introjs-helperLayer"),h=document.querySelector(".introjs-tooltipReferenceLayer"),d="introjs-helperLayer";if("string"==typeof t.highlightClass&&(d+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(d+=" "+this._options.highlightClass),null!==s){var f=h.querySelector(".introjs-helperNumberLayer"),p=h.querySelector(".introjs-tooltiptext"),m=h.querySelector(".introjs-arrow"),v=h.querySelector(".introjs-tooltip");if(n=h.querySelector(".introjs-skipbutton"),i=h.querySelector(".introjs-prevbutton"),e=h.querySelector(".introjs-nextbutton"),s.className=d,v.style.opacity=0,v.style.display="none",null!==f){var C=this._introItems[t.step-2>=0?t.step-2:0];(null!==C&&"forward"===this._direction&&"floating"===C.position||"backward"===this._direction&&"floating"===t.position)&&(f.style.opacity=0)}(o=V(t.element))!==document.body&&G(o,t.element),g.call(r,s),g.call(r,h),_(document.querySelectorAll(".introjs-fixParent"),(function(t){T(t,/introjs-fixParent/g)})),S(),r._lastShowElementTimer&&window.clearTimeout(r._lastShowElementTimer),r._lastShowElementTimer=window.setTimeout((function(){null!==f&&(f.innerHTML=t.step),p.innerHTML=t.intro,v.style.display="block",u.call(r,t.element,v,m,f),r._options.showBullets&&(h.querySelector(".introjs-bullets li > a.active").className="",h.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active"),h.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:"+X.call(r)+"%;",h.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",X.call(r)),v.style.opacity=1,f&&(f.style.opacity=1),null!=n&&/introjs-donebutton/gi.test(n.className)?n.focus():null!=e&&e.focus(),w.call(r,t.scrollTo,t,p)}),350)}else{var x=document.createElement("div"),E=document.createElement("div"),P=document.createElement("div"),N=document.createElement("div"),j=document.createElement("div"),I=document.createElement("div"),L=document.createElement("div"),M=document.createElement("div");x.className=d,E.className="introjs-tooltipReferenceLayer",(o=V(t.element))!==document.body&&G(o,t.element),g.call(r,x),g.call(r,E),this._targetElement.appendChild(x),this._targetElement.appendChild(E),P.className="introjs-arrow",j.className="introjs-tooltiptext",j.innerHTML=t.intro,I.className="introjs-bullets",!1===this._options.showBullets&&(I.style.display="none");var z=document.createElement("ul");z.setAttribute("role","tablist");var R=function(){r.goToStep(this.getAttribute("data-stepnumber"))};_(this._introItems,(function(e,i){var n=document.createElement("li"),o=document.createElement("a");n.setAttribute("role","presentation"),o.setAttribute("role","tab"),o.onclick=R,i===t.step-1&&(o.className="active"),y(o),o.innerHTML="&nbsp;",o.setAttribute("data-stepnumber",e.step),n.appendChild(o),z.appendChild(n)})),I.appendChild(z),L.className="introjs-progress",!1===this._options.showProgress&&(L.style.display="none");var B=document.createElement("div");B.className="introjs-progressbar",B.setAttribute("role","progress"),B.setAttribute("aria-valuemin",0),B.setAttribute("aria-valuemax",100),B.setAttribute("aria-valuenow",X.call(this)),B.style.cssText="width:"+X.call(this)+"%;",L.appendChild(B),M.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(M.style.display="none"),N.className="introjs-tooltip",N.appendChild(j),N.appendChild(I),N.appendChild(L);var O=document.createElement("span");!0===this._options.showStepNumbers&&(O.className="introjs-helperNumberLayer",O.innerHTML=t.step,E.appendChild(O)),N.appendChild(P),E.appendChild(N),(e=document.createElement("a")).onclick=function(){r._introItems.length-1!==r._currentStep&&a.call(r)},y(e),e.innerHTML=this._options.nextLabel,(i=document.createElement("a")).onclick=function(){0!==r._currentStep&&l.call(r)},y(i),i.innerHTML=this._options.prevLabel,(n=document.createElement("a")).className=this._options.buttonClass+" introjs-skipbutton ",y(n),n.innerHTML=this._options.skipLabel,n.onclick=function(){r._introItems.length-1===r._currentStep&&"function"==typeof r._introCompleteCallback&&r._introCompleteCallback.call(r),r._introItems.length-1!==r._currentStep&&"function"==typeof r._introExitCallback&&r._introExitCallback.call(r),"function"==typeof r._introSkipCallback&&r._introSkipCallback.call(r),c.call(r,r._targetElement)},M.appendChild(n),this._introItems.length>1&&(M.appendChild(i),M.appendChild(e)),N.appendChild(M),u.call(r,t.element,N,P,O),w.call(this,t.scrollTo,t,N)}var F=r._targetElement.querySelector(".introjs-disableInteraction");F&&F.parentNode.removeChild(F),t.disableInteraction&&b.call(r),0===this._currentStep&&this._introItems.length>1?(null!=n&&(n.className=this._options.buttonClass+" introjs-skipbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),!0===this._options.hidePrev?(null!=i&&(i.className=this._options.buttonClass+" introjs-prevbutton introjs-hidden"),null!=e&&A(e,"introjs-fullbutton")):null!=i&&(i.className=this._options.buttonClass+" introjs-prevbutton introjs-disabled"),null!=n&&(n.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=n&&(n.innerHTML=this._options.doneLabel,A(n,"introjs-donebutton")),null!=i&&(i.className=this._options.buttonClass+" introjs-prevbutton"),!0===this._options.hideNext?(null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-hidden"),null!=i&&A(i,"introjs-fullbutton")):null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-disabled")):(null!=n&&(n.className=this._options.buttonClass+" introjs-skipbutton"),null!=i&&(i.className=this._options.buttonClass+" introjs-prevbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),null!=n&&(n.innerHTML=this._options.skipLabel)),i.setAttribute("role","button"),e.setAttribute("role","button"),n.setAttribute("role","button"),null!=e&&e.focus(),function(t){var e;if(t.element instanceof SVGElement)for(e=t.element.parentNode;null!==t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&A(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;A(t.element,"introjs-showElement");var i=k(t.element,"position");for("absolute"!==i&&"relative"!==i&&"fixed"!==i&&A(t.element,"introjs-relativePosition"),e=t.element.parentNode;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var n=k(e,"z-index"),o=parseFloat(k(e,"opacity")),r=k(e,"transform")||k(e,"-webkit-transform")||k(e,"-moz-transform")||k(e,"-ms-transform")||k(e,"-o-transform");(/[0-9]+/.test(n)||o<1||"none"!==r&&void 0!==r)&&A(e,"introjs-fixParent"),e=e.parentNode}}(t),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function w(t,e,i){var n;if("off"!==t&&this._options.scrollToElement&&(n="tooltip"===t?i.getBoundingClientRect():e.element.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(e.element))){var o=N().height;n.bottom-(n.bottom-n.top)<0||e.element.clientHeight>o?window.scrollBy(0,n.top-(o/2-n.height/2)-this._options.scrollPadding):window.scrollBy(0,n.top-(o/2-n.height/2)+this._options.scrollPadding)}}function S(){_(document.querySelectorAll(".introjs-showElement"),(function(t){T(t,/introjs-[a-zA-Z]+/g)}))}function _(t,e,i){if(t)for(var n=0,o=t.length;n<o;n++)e(t[n],n);"function"==typeof i&&i()}var C,x=(C={},function(t,e){return C[e=e||"introjs-stamp"]=C[e]||0,void 0===t[e]&&(t[e]=C[e]++),t[e]}),E=new function(){var t="introjs_event";this._id=function(t,e,i,n){return e+x(i)+(n?"_"+x(n):"")},this.on=function(e,i,n,o,r){var s=this._id.apply(this,arguments),a=function(t){return n.call(o||e,t||window.event)};"addEventListener"in e?e.addEventListener(i,a,r):"attachEvent"in e&&e.attachEvent("on"+i,a),e[t]=e[t]||{},e[t][s]=a},this.off=function(e,i,n,o,r){var s=this._id.apply(this,arguments),a=e[t]&&e[t][s];a&&("removeEventListener"in e?e.removeEventListener(i,a,r):"detachEvent"in e&&e.detachEvent("on"+i,a),e[t][s]=null)}};function A(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i+" "+e)}else void 0!==t.classList?_(e.split(" "),(function(e){t.classList.add(e)})):t.className.match(e)||(t.className+=" "+e)}function T(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function k(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i}function P(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===k(t,"position")||P(e))}function N(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function j(t){var e=document.createElement("div"),i="",n=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var o=W(t);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.style.cssText=i)}else i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.style.cssText=i;return t.appendChild(e),e.onclick=function(){!0===n._options.exitOnOverlayClick&&c.call(n,t)},window.setTimeout((function(){i+="opacity: "+n._options.overlayOpacity.toString()+";",e.style.cssText=i}),10),!0}function I(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function L(t){if(this._introItems=[],this._options.hints)_(this._options.hints,function(t){var e=o(t);"string"==typeof e.element&&(e.element=document.querySelector(e.element)),e.hintPosition=e.hintPosition||this._options.hintPosition,e.hintAnimation=e.hintAnimation||this._options.hintAnimation,null!==e.element&&this._introItems.push(e)}.bind(this));else{var e=t.querySelectorAll("*[data-hint]");if(!e||!e.length)return!1;_(e,function(t){var e=t.getAttribute("data-hintanimation");e=e?"true"===e:this._options.hintAnimation,this._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:e,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}D.call(this),E.on(document,"click",I,this,!1),E.on(window,"resize",M,this,!0)}function M(){_(this._introItems,function(t){void 0!==t.targetElement&&H.call(this,t.hintPosition,t.element,t.targetElement)}.bind(this))}function z(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function R(t){var e=z('.introjs-hint[data-step="'+t+'"]')[0];I.call(this),e&&A(e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function B(){_(z(".introjs-hint"),function(t){R.call(this,t.getAttribute("data-step"))}.bind(this))}function O(){var t=z(".introjs-hint");t&&t.length?_(t,function(t){F.call(this,t.getAttribute("data-step"))}.bind(this)):L.call(this,this._targetElement)}function F(t){var e=z('.introjs-hint[data-step="'+t+'"]')[0];e&&T(e,/introjs-hidehint/g)}function U(){_(z(".introjs-hint"),function(t){q.call(this,t.getAttribute("data-step"))}.bind(this))}function q(t){var e=z('.introjs-hint[data-step="'+t+'"]')[0];e&&e.parentNode.removeChild(e)}function D(){var t=this,e=document.querySelector(".introjs-hints");null===e&&((e=document.createElement("div")).className="introjs-hints"),_(this._introItems,function(i,n){if(!document.querySelector('.introjs-hint[data-step="'+n+'"]')){var o=document.createElement("a");y(o),o.onclick=function(e){return function(i){var n=i||window.event;n.stopPropagation&&n.stopPropagation(),null!==n.cancelBubble&&(n.cancelBubble=!0),Y.call(t,e)}}(n),o.className="introjs-hint",i.hintAnimation||A(o,"introjs-hint-no-anim"),P(i.element)&&A(o,"introjs-fixedhint");var r=document.createElement("div");r.className="introjs-hint-dot";var s=document.createElement("div");s.className="introjs-hint-pulse",o.appendChild(r),o.appendChild(s),o.setAttribute("data-step",n),i.targetElement=i.element,i.element=o,H.call(this,i.hintPosition,o,i.targetElement),e.appendChild(o)}}.bind(this)),document.body.appendChild(e),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function H(t,e,i){var n=W.call(this,i);switch(t){default:case"top-left":e.style.left=n.left+"px",e.style.top=n.top+"px";break;case"top-right":e.style.left=n.left+n.width-20+"px",e.style.top=n.top+"px";break;case"bottom-left":e.style.left=n.left+"px",e.style.top=n.top+n.height-20+"px";break;case"bottom-right":e.style.left=n.left+n.width-20+"px",e.style.top=n.top+n.height-20+"px";break;case"middle-left":e.style.left=n.left+"px",e.style.top=n.top+(n.height-20)/2+"px";break;case"middle-right":e.style.left=n.left+n.width-20+"px",e.style.top=n.top+(n.height-20)/2+"px";break;case"middle-middle":e.style.left=n.left+(n.width-20)/2+"px",e.style.top=n.top+(n.height-20)/2+"px";break;case"bottom-middle":e.style.left=n.left+(n.width-20)/2+"px",e.style.top=n.top+n.height-20+"px";break;case"top-middle":e.style.left=n.left+(n.width-20)/2+"px",e.style.top=n.top+"px"}}function Y(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),i=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,i,t);var n=I.call(this);if(parseInt(n,10)!==t){var o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");o.className="introjs-tooltip",o.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},r.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=i.hint;var h=document.createElement("a");h.className=this._options.buttonClass,h.setAttribute("role","button"),h.innerHTML=this._options.hintButtonLabel,h.onclick=R.bind(this,t),r.appendChild(l),r.appendChild(h),s.className="introjs-arrow",o.appendChild(s),o.appendChild(r),this._currentStep=e.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",e.getAttribute("data-step")),g.call(this,a),a.appendChild(o),document.body.appendChild(a),u.call(this,e,o,s,null,!0)}}function W(t){var e=document.body,i=document.documentElement,n=window.pageYOffset||i.scrollTop||e.scrollTop,o=window.pageXOffset||i.scrollLeft||e.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+n,width:r.width,height:r.height,left:r.left+o}}function V(t){var e=window.getComputedStyle(t),i="absolute"===e.position,n=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var o=t;o=o.parentElement;)if(e=window.getComputedStyle(o),(!i||"static"!==e.position)&&n.test(e.overflow+e.overflowY+e.overflowX))return o;return document.body}function G(t,e){t.scrollTop=e.offsetTop-t.offsetTop}function X(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var Q=function(e){var i;if("object"==typeof e)i=new t(e);else if("string"==typeof e){var n=document.querySelector(e);if(!n)throw new Error("There is no element with given selector.");i=new t(n)}else i=new t(document.body);return Q.instances[x(i,"introjs-instance")]=i,i};return Q.version="2.9.3",Q.instances={},Q.fn=t.prototype={clone:function(){return new t(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var i,n={};for(i in t)n[i]=t[i];for(i in e)n[i]=e[i];return n}(this._options,t),this},start:function(t){return e.call(this,this._targetElement,t),this},goToStep:function(t){return r.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return s.call(this,t),this},nextStep:function(){return a.call(this),this},previousStep:function(){return l.call(this),this},exit:function(t){return c.call(this,this._targetElement,t),this},refresh:function(){return h.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onskip:function(t){if("function"!=typeof t)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return L.call(this,this._targetElement),this},hideHint:function(t){return R.call(this,t),this},hideHints:function(){return B.call(this),this},showHint:function(t){return F.call(this,t),this},showHints:function(){return O.call(this),this},removeHints:function(){return U.call(this),this},removeHint:function(t){return q.call(this,t),this},showHintDialog:function(t){return Y.call(this,t),this}},Q},t.exports=n(),t.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),n().apply(this,arguments)}}]);